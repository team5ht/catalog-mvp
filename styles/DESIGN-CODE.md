# Дизайн-код 5HT (psyence.ru) LEGACY

## 1. Основные принципы

1. **Шрифты:** используем стандартные системные шрифты, избегаем кастомных — это просто и надёжно.

2. **Цвета:** выбираем спокойную цветовую палитру; для выделения, например, кнопок можно использовать акцентный цвет, но фон большинства блоков — нейтральный.

3. **Отступы и сетка:** проектируем карточки, списки и страницы так, чтобы были чёткие отступы, визуальный ритм, “воздух” между элементами.

4. **Изображения обложек, аватары, иконки:** используем простые изображения, обеспечиваем alt-текст, пропорции.

5. **Контраст и масштабируемость:** текст — достаточно контрастный, интерфейс — гибкий, адаптивный.

---

## 2. Типографика

### Типографика

Базовая единая шкала размеров описана в `tokens.css`:

Все текстовые элементы по умолчанию используют `font-family: var(--font-family-sans)`.

- `--font-size-base: 1rem` (16px) — основной текст.
- `--font-size-sm: 0.875rem` (14px) — подписи, вторичный текст.
- `--font-size-lg: 1.125rem` (18px) — важные подписи, крупный текст в карточках.
- `--font-size-xl: 1.35rem` (~22px) — подзаголовки (H3).
- `--font-size-2xl: 1.6rem` (~26px) — H2.
- `--font-size-3xl: 2rem` (32px) — H1.

Правило: мы не заводим десяток размеров, а используем эту фиксированную шкалу.

#### Семантические уровни

- **H1** (главный заголовок страницы): `font-size-3xl`, `font-weight: 700`
- **H2** (подзаголовок раздела): `font-size-2xl`, `font-weight: 600`
- **H3** (подзаголовок внутри раздела): `font-size-xl`, `font-weight: 600`
- **Основной текст**: `font-size-base`, `font-weight: 400`
- **Мелкий / вторичный текст (подписи, метки)**: `font-size-sm`, `font-weight: 400`

Правило: используем веса из `tokens.css`: `400` для базового текста, `500` для вторичных / подзаголовков, `600` для заголовков разделов и важных чипов/кнопок, `700` только для главных заголовков и ключевых значений, не ради «красоты».

---

## 3. Цвета

Текст, иконки, разделители и другие «специальные» элементы интерфейса должны использовать системные цвета, заданные платформой, а не произвольные.

Брендовые цвета могут использоваться только как акценты: например, кнопки, бейджи, иконки — но не для фона или основного текста.

Следует избегать кастомных градиентов, паттернов, сложных цветовых заливок, которые выбиваются из общего «минималистичного» стиля.

Такой подход делает интерфейс более спокойным, нейтральным и «чистым» — это хорошо сочетается с образовательной и серьёзной тематикой психологии / справочника книг.

### Фоны

- `--color-bg` - фон всей страницы (по умолчанию **чистый белый**).
- `--color-surface` - фон карточек, панелей, блоков с контентом.
- `--color-surface-muted` - ещё более "вторичный" фон (например, полосы с подсказками, футер).
- `--color-surface-translucent` - полупрозрачная белая поверхность для плавающих контролов (кнопки назад, floating-кнопки поверх контента); вместо raw `rgba` используем этот токен.

Правило:

- Страница почти всегда белая (`--color-bg`).
- Внутренние блоки (карточки, секции) — `--color-surface`.
- Дополнительные подсказки/лейблы/полоски — `--color-surface-muted`.

### Текст

- `--color-text` - основной текст (почти чёрный).
- `--color-text-muted` - вторичный текст (description, подсказки).
- `--color-text-on-primary` - текст на заливке `--color-primary` (обычно белый).
- `--color-secondary-text` / `--color-secondary-text-strong` - вторичный текст на сером фоне (подзаголовки/описания на авторизации).

Правило:

- Обычный контент -> `color: var(--color-text)`.
- Серый вторичный текст -> `color: var(--color-text-muted)` (описания, «метаданные» у карточек).
- Вторичные подзаголовки на авторизации -> `color: var(--color-secondary-text-strong)` (обычный вторичный текст — `--color-secondary-text`).
- Внутри primary-кнопок -> `color: var(--color-text-on-primary)`.
- Legacy: градиент на авторизации использует `--color-hero-gradient-end`, токена нет в `tokens.css`, не добавляем новые места применения.

### Акцент

- `--color-primary` — основной акцент (ссылки, кнопки действия, важные элементы).
- `--color-primary-hover` — используется для hover-состояний.
- `--color-primary-soft` — фон для "мягких" акцентов (бейджи, выделения).

Правило:

- Одна акцентная краска в интерфейсе — `--color-primary`.
- Не вводим второй и третий «главный цвет» для UI (цвета для обложек книг — не считаются, это часть контента, а не интерфейса).

### Семантические цвета

- `--color-border` — базовые границы (карточки, поля ввода, тонкие разделители).
- `--color-danger` — ошибки, предупреждения, destructive-действия (кнопки удаления, ошибочные состояния).
- `--color-neutral-weak` / `--color-neutral-weak-strong` — вспомогательные нейтральные элементы без акцента (тонкие линии, muted-разделители).
- `--color-placeholder` / `--color-placeholder-disabled` — цвет плейсхолдера текста в полях ввода в активном и выключенном состояниях.
- `--color-cover-placeholder` — фон-заглушка на месте отсутствующей обложки.

Правило:

- Для ошибок и разрушительных действий всегда использовать `--color-danger`.
- Для границ и разделителей - `--color-border` или `--color-neutral-weak`, но не придумывать свои новые цвета.
- Плейсхолдеры не должны быть слишком контрастными и не должны выглядеть как уже введённый текст.

### Тени

- `--shadow-card` - карточки/панели, кнопки CTA (`.button`).
- `--shadow-press` - нажатое состояние кнопок и плавающих элементов.
- `--shadow-strong` - плотные карточки (форма авторизации).
- `--shadow-float` - тень у нижней навигации.
- `--shadow-fab` - плавающие круглые кнопки (кнопка «назад»).

Правило: используем только тени из `tokens.css`; legacy-ссылки `--shadow-hero` и `--shadow-soft` остались в material/каталоге/поиске и должны постепенно заменяться на существующие токены при правках.

---

---

## 4. Отступы и сетка

Вёрстка должна придерживаться единой «сетки» (grid spacing), с консистентными отступами, выравниванием, внутренними «паддингами».

Нужно избегать «уплотнённого» текста до границ элементов — не делаем edge-to-edge текст; оставляем пространство «дышать».

Визуальная иерархия должна быть чёткой: заголовок → тело → действие (например, кнопка).

Если есть карточки, списки, панели — использовать радиус скругления углов, тени и границы по аналогии с системными стилями.

Это помогает сделать интерфейс аккуратным, структурированным, понятным.

## Радиусы

Скругления заданы токенами:

- `--radius-sm` — мелкие элементы (чипы, инпуты).
- `--radius-md` — карточки, кнопки.
- `--radius-lg` — крупные блоки (модалки, большие панели).
- `--radius-pill` — для "пилюль" (tags, круглые кнопки).

Правило:

- Не использовать "ручные" скругления типа `border-radius: 6px;`.
- Всегда брать одно из токенов (`sm`, `md`, `lg`), чтобы интерфейс выглядел цельно.
- Для круглых кнопок/иконок допускается `border-radius: 50%`.

## Отступы (spacing)

Шкала:

- `--space-xs: 4px` — минимальные отступы, чаще внутри кнопок/инпутов.
- `--space-sm: 8px`
- `--space-md: 12px`
- `--space-lg: 16px`
- `--space-xl: 24px`
- `--space-2xl: 32px`

Для удобства есть алиасы:

- `--space-1 = --space-xs`
- `--space-2 = --space-sm`
- `--space-3 = --space-md`
- `--space-4 = --space-lg`
- `--space-5 = --space-xl`
- `--space-6 = --space-2xl`

Правило:

- Внутренний паддинг элементов (кнопки, инпуты, чипы) - 1-2 шаг (xs / sm).
- Отступы между элементами внутри блока - 2-3 шаг (sm / md).
- Отступы между крупными секциями - 4-5 шаг (lg / xl).
- Для кнопок/чипов паддинги задаются rem-значениями кратно шагам шкалы (`~0.4rem-1.5rem`) вместо raw px 4/8/12/16/24/32.
- Legacy: в ленте категорий остаётся `gap: 14px`; не добавляем новые px-значения без токенов.

---

## 5. Мэппинг компонентов на токены

- **Главный layout страницы**
  - фон: `--color-bg`
  - базовый текст: `--color-text`
  - контейнер: `padding: var(--space-lg) var(--space-lg) var(--space-2xl)`
  - базовый отступ между секциями: `--space-xl`

- **Карточка материала / книги**
  - фон: `--color-surface`
  - скругление: `--radius-lg`, граница: `--color-border`
  - внутренняя тень: `--shadow-card` (панели, поиск, обложки каталога)
  - внутренний паддинг панелей: `--space-lg`
  - заголовки карточек в каруселях: `~1rem`, `font-weight: 600`, `color: --color-text`

- **Primary-кнопка**
  - фон: `--color-primary`
  - текст: `--color-text-on-primary`
  - скругление: `--radius-md` для `.button*`, `--radius-pill` для download-вариантов
  - паддинги задаются rem-значениями (`~0.75rem 1.5rem` или `var(--space-lg)` для `.button--download`)
  - hover: `--color-primary-hover`, нажатие: `--shadow-press`

- **Нижняя навигация (bottom-nav)**
  - высота панели: `--bottom-nav-height`
  - размер иконок: `--bottom-nav-icon-size`
  - вертикальный зазор между контентом и панелью: `--bottom-nav-spacing`
  - общий отступ снизу для основного контента: `--bottom-nav-offset` (чтобы контент не прятался под навигацией)
  - горизонтальные поля страницы: `--page-horizontal-padding`
  - тень панели: `--shadow-float`

---

## Changelog (doc sync)

- Уточнены веса заголовков: `700` только для главных тайтлов, `600` для разделов, `500` для вторичных.
- Добавлены токены `--color-secondary-text` / `--color-secondary-text-strong` и пометка о legacy-градиенте авторизации.
- Добавлен раздел про тени с перечнем используемых токенов и legacy-ссылки `--shadow-hero` / `--shadow-soft`.
- Уточнены правила по rem-паддингам для кнопок/чипов вместо raw px.
- Обновлён мэппинг layout: реальные паддинги контейнера и отступы секций (`--space-lg` / `--space-xl`).
- Обновлён мэппинг карточек: радиус `--radius-lg`, `--shadow-card`, заголовки ~1rem semibold.
- Обновлён мэппинг кнопок: радиусы для `.button` и hover/press-токены.
- Дополнена нижняя навигация тенью `--shadow-float`.
