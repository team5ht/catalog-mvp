# Дизайн-код 5HT (psyence.ru)

## 1. Основные принципы

1. **Спокойно и нейтрально** — никаких кричащих красок, минимум визуального шума.
2. **Фокус на содержании** — текст, карточки материалов и формы — главные, всё остальное обслуживает их.
3. **Строгая и предсказуемая сетка** — одинаковые отступы, повторяющиеся паттерны.
4. **Умеренно-мягкий** — немного скругления, лёгкие тени, но без «игрушечности».
5. **Мало вариантов** — лучше 1–2 вида кнопок и карточек, чем 7 похожих.

Эти принципы используются как «арбитр» во всех спорных случаях. Если новое решение противоречит принципам — оно либо пересматривается, либо формально обновляется дизайн-код.

---

## 2. Уровни дизайн-кода

Дизайн-код делим на три уровня:

1. **Фундамент**
   - цветовая система;
   - типографика;
   - отступы (spacing), скругления, тени;
   - базовая сетка/ширина контейнеров.

2. **Базовые компоненты**
   - кнопки;
   - поля ввода и лейблы;
   - карточки;
   - чипы (теги/фильтры);
   - навигация и вспомогательные элементы (toast/alert).

3. **Паттерны страниц**
   - базовая страница;
   - каталог материалов;
   - страница материала;
   - авторизация;
   - состояния: загрузка / пусто / ошибка.

Все решения по стилю должны ссылаться на один из уровней, а не появляться «с нуля».

---

## 3. Фундамент

### 3.1. Цветовая система

Цвета задаются в `tokens.css` через семантические токены. На уровне дизайн-кода определяем только роли:

- **Основной цвет бренда**
  - используется для ключевых действий (primary-кнопки, активные элементы навигации, важные состояния);
  - не используется как фон больших площадей, чтобы не «кричать».

- **Нейтральные серые**
  - несколько уровней серого: фон, границы, вторичный текст;
  - правило: текст всегда достаточно контрастный относительно фона (WCAG не считаем формально, но ориентируемся глазами).

- **Служебные цвета состояний**
  - `success` — подтверждение, успешные действия;
  - `warning` — мягкие предупреждения;
  - `danger` / `error` — ошибки, критические статусы;
  - `info` — нейтральные подсказки.

- **Фон приложения**
  - основной фон — спокойный светлый (не чисто белый, а чуть «припылённый»);
  - большие тёмные заливки не используем (нет темной темы на MVP).

Все новые цвета должны вводиться не напрямую, а через новые семантические токены в `tokens.css`.

---

### 3.2. Типографика

Шрифт: system stack (SF Pro / системный sans-serif). Размеры и line-height задаются токенами, но на уровне дизайн-кода фиксируем **иерархию и назначения**:

- `heading-1`
  - крупный заголовок страницы.
  - используется 1 раз на странице, обычно в начале основного контента.

- `heading-2`
  - заголовки крупных блоков внутри страницы (секции, подзаголовки).

- `heading-3`
  - заголовки карточек, модулей, небольших блоков.

- `body`
  - основной текст: описания материалов, параграфы на страницах.

- `label`
  - подписи к полям форм, мелкие подписи, второстепенная информация.

Общие правила:

- межстрочный интервал у основного текста — ближе к «relaxed», читаемость важнее плотности;
- нельзя задавать произвольные размеры «на глаз», только через существующие типо-токены;
- в пределах одной страницы не смешиваем больше 2–3 уровней заголовков.

---

### 3.3. Отступы (spacing)

Отступы задаются дискретной шкалой (токены `--space-*` в `tokens.css`). Для дизайн-кода важны **правила использования**:

- используем **лестницу отступов**: маленький / базовый / большой / очень большой;
- горизонтальные и вертикальные отступы выбираем из одной шкалы;
- никаких «17px» и «23px» — только фиксированные значения из шкалы.

Рекомендуемые ориентиры:

- маленький отступ внутри компонентов (между лейблом и инпутом, между строками в карточке);
- базовый отступ между компонентами в блоке;
- крупный отступ между секциями страницы;
- очень крупный — только для больших визуальных разделителей (верх страницы, подвал).

Если хочется «чуть-чуть побольше/поменьше», сначала пробуем ближайший токен, а не вводим новый.

---

### 3.4. Скругления и тени

Скругления:

- фиксируем 3 уровня скругления:
  - маленькое — для чипов, инпутов, кнопок;
  - среднее — для карточек, модальных окон;
  - полное (`full`) — для круглых элементов (иконки, аватары, pill-формы).
- нельзя задавать произвольное скругление, только значения из шкалы.

Тени:

- используем максимум 2 уровня теней:
  - слабая тень — для карточек или всплывающих панелей;
  - более заметная — для модалок/оверлеев, если потребуется.
- «парящие» элементы должны быть редким приёмом, по умолчанию опираемся на границы (border), а не агрессивные тени.

Общее правило: интерфейс должен выглядеть «собранно», без ощущения «картонных карточек, летающих друг над другом».

---

### 3.5. Сетка и ширина контента

- Основной контент (текст, каталог) живёт в контейнере ограниченной ширины.
- На десктопе: читаемый максимум ширины текста, чтобы строки были комфортной длины.
- На мобильных:
  - контент тянется на всю ширину с учётом safe-area;
  - учитываем постоянную нижнюю навигацию, основной `main` имеет отступ снизу под неё.

Размещение блоков должно быть предсказуемым: повторяющиеся паттерны выравнивания, одинаковые отступы от краёв.

---

## 4. Базовые компоненты

### 4.1. Кнопки

Основные типы:

- `primary`
  - основное целевое действие на странице (скачать, продолжить, сохранить);
  - используется редко, 1–2 на экран.

- `secondary`
  - второстепенные действия (отмена, «назад», дополнительные опции).

- `ghost` / текстовая
  - действия с низким приоритетом (ссылки «Подробнее», «Настройки», иконки без подложки).

Размер:

- базовый (default) — для большинства действий;
- компактный — для чипов/узких панелей (используется ограниченно).

Состояния:

- `default`, `hover`, `active`, `disabled`, `focus-visible`, `loading`.

Правило: всё, что визуально выглядит как кнопка, должно соответствовать одному из типов и использовать общие стили, а не уникальные решения.

---

### 4.2. Поля ввода и формы

Состав поля:

- лейбл сверху (использует `label`-типографику);
- инпут (одно поле или textarea);
- вспомогательный текст / ошибка снизу небольшим шрифтом.

Состояния:

- normal;
- focus (чёткий контур/подсветка, но не «кричащая»);
- error (цвет ошибки + текст).

Правила:

- ширина полей в форме единообразна (либо `100%` контейнера, либо чётко заданная);
- в одной форме не смешиваем разные визуальные стили инпутов.

---

### 4.3. Карточки

Карточка — базовый контейнер для:

- материалов в каталоге;
- блоков на главной странице.

Содержимое:

- заголовок (`heading-3`);
- вторичный текст (короткое описание/метаданные);
- опционально — обложка/иконка.

Правила:

- отступы внутри карточки берутся из шкалы spacing;
- скругление и тень — из фундаментальных токенов;
- карта клика: либо вся карточка кликабельна, либо есть явно обозначенная зона действия (кнопка).

---

### 4.4. Чипы и теги

Использование:

- фильтры категорий;
- теги материалов.

Варианты:

- обычный чип (нейтральное состояние);
- активный (выбранный фильтр);
- тег (неинтерактивный, для описания материала).

Правило: интерактивные чипы всегда явно отличаются от неинтерактивных (цвет заливки/границы, курсор).

---

### 4.5. Навигация и вспомогательные элементы

- **Нижняя навигация**
  - постоянна на мобильных;
  - используется для главных разделов (главная, каталог, аккаунт и т.п.);
  - активный пункт всегда явно подсвечен.

- **Toast/alert**
  - короткие сообщения об успехе/ошибке;
  - появляются поверх контента, но не перекрывают навигацию.

Состояние авторизации (иконка профиля, logout, подсказки) должно быть визуально согласовано с общим стилем кнопок и текстов.

---

## 5. Паттерны страниц

### 5.1. Базовая страница

Общий шаблон:

- верхняя часть (по необходимости) — логотип/название, краткое описание;
- основной контейнер контента с ограниченной шириной;
- предсказуемые отступы сверху и снизу;
- учитывается нижняя навигация, чтобы контент не уезжал под неё.

Любая новая страница должна «узнаваться» по этому шаблону.

---

### 5.2. Главная страница

Содержимое (мобильный вид):

1. **Hero-баннер с опросом/основным действием**
   - крупная иллюстрация;
   - заголовок и короткий текст;
   - одна основная кнопка (primary).

2. **Блок «Переводы»**
   - заголовок блока;
   - горизонтальная карусель карточек материалов.

3. **Блок «Материалы 5HT»**
   - заголовок блока;
   - горизонтальная карусель карточек.

4. **Нижняя навигация**
   - закреплена, всегда видна;
   - активная вкладка подсвечена.

Правила:

- hero-баннер не должен визуально «перебивать» весь остальной интерфейс;
- количество каруселей ограничено (на MVP — две), чтобы главная не превращалась в бесконечный скролл;
- в будущем любые новые блоки на главной должны вписываться в паттерн «заголовок + горизонтальная лента карточек».

---

### 5.3. Каталог материалов

Содержимое:

- заголовок раздела;
- поясняющий текст (что за каталог, кому полезно);
- панель фильтров/чипов категорий (горизонтальная прокручиваемая лента);
- строка поиска над фильтрами;
- вертикальный список материалов в одну колонку:
  - слева миниатюра;
  - справа заголовок и, при необходимости, краткое описание.

Состояния:

- загрузка (скелетоны или текст «Загружаем материалы…»);
- пустой поиск/фильтр;
- ошибка загрузки.

Правила:

- фильтры и карточки списка используют те же стили чипов и карточек, что и на главной;
- на десктопе список может эволюционировать в более плотную сетку, но мобильный дефолт — вертикальный список.

---

### 5.4. Страница материала

Содержимое:

- заголовок материала;
- визуал (обложка), если есть;
- основные мета-данные (категория, длительность/формат и т.п.);
- описание;
- блок действия (скачать/открыть pdf, возможно привязка к авторизации);
- вспомогательные элементы (теги, «что ещё почитать» — позже).

Правила:

- главное действие (скачать/открыть) — primary-кнопка;
- все второстепенные действия (поделиться, вернуться, ещё что-то) визуально слабее и, желательно, справа/ниже основного.

---

### 5.5. Авторизация (логин/регистрация)

Содержимое:

- центрированный блок (карточка) фиксированной ширины;
- логотип/название продукта;
- заголовок («Вход в 5HT», «Создать аккаунт»);
- форма с полями email/пароль;
- текстовые подсказки об ошибках и подтверждении email.

Правила:

- фон может быть чуть более «атмосферным» (градиент), но карточка формы остаётся спокойной и читаемой;
- состояния ошибок и успеха оформляются через служебные цвета, не ломая общий стиль.

---

### 5.6. Системные состояния

Для всех страниц определяем единые паттерны:

- **Загрузка**
  - скелетоны/плейсхолдеры или краткий текст;
  - не использовать анимацию/лоадеры, которые отвлекают.

- **Пустое состояние**
  - короткое объяснение, почему пусто;
  - предложение следующего шага (снять фильтр, добавить материалы позже и т.п.).

- **Ошибка**
  - понятный текст «человеческим» языком;
  - при возможности — кнопка «повторить» или краткая инструкция.

Все три состояния должны выглядеть похоже на всех страницах, а не быть уникальными каждый раз.
