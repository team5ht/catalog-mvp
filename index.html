<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Главная</title>
<link rel="stylesheet" href="styles/tokens.css" />
<link rel="stylesheet" href="styles/base.css" />
<link rel="stylesheet" href="styles/components/buttons.css" />
<link rel="stylesheet" href="styles/components/cards.css" />
<link rel="stylesheet" href="styles/components/scroll-containers.css" />
<link rel="stylesheet" href="styles/components/navigation.css" />
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#f8fafc">
</head>
<body>
<main>
  <section id="main-materials" class="materials-carousel">
    <!-- Карточки материалов будут вставлены скриптом -->
  </section>
</main>

<nav class="bottom-nav">
  <button id="nav-home" class="bottom-nav__button bottom-nav__button--active" aria-label="Главная">
    <svg class="bottom-nav__icon" width="24" height="24"><path d="M3 12l9-9 9 9v9a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-9z" fill="none" stroke-width="2"/></svg>
  </button>
  <button id="nav-catalog" class="bottom-nav__button" aria-label="Каталог">
    <svg class="bottom-nav__icon" width="24" height="24"><rect x="3" y="4" width="18" height="16" fill="none" stroke-width="2"/></svg>
  </button>
  <button id="nav-login" class="bottom-nav__button" aria-label="Профиль">
    <svg class="bottom-nav__icon" width="24" height="24"><circle cx="12" cy="8" r="4" fill="none" stroke-width="2"/><path d="M4 20c0-4 16-4 16 0" fill="none" stroke-width="2"/></svg>
  </button>
</nav>

<script src="app.js"></script>
<script>
document.getElementById('nav-catalog').onclick = () => location.href = 'catalog.html';
document.getElementById('nav-login').onclick = () => location.href = 'login.html';

function renderMainMaterials(materials) {
  const container = document.getElementById('main-materials');
  container.innerHTML = '';
  materials.forEach((m, i) => {
    if(i >= 5) return;
    const card = document.createElement('div');
    card.className = 'material-card material-card--narrow';
    card.style.backgroundImage = `url(${m.cover})`;
    card.title = m.title;
    card.textContent = m.title;
    card.onclick = () => location.href = `material.html?id=${m.id}`;
    container.appendChild(card);
  });
}


fetch('data.json').then(r=>r.json()).then(data => renderMainMaterials(data.materials));
</script>
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('sw.js');
  });
}
</script>
</body>
</html>

